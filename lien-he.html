<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MMO MARKET ‚Ä¢ S·∫£n ph·∫©m n·ªïi b·∫≠t</title>

  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;

      --primary:#6d28d9;   /* t√≠m gi·ªëng ·∫£nh */
      --primary2:#4f46e5;

      --sale:#22c55e;      /* xanh badge gi·∫£m */
      --shadow:0 12px 32px rgba(17,24,39,.10);
      --r:16px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background:var(--bg);
      color:var(--text);
    }
    a{color:inherit;text-decoration:none}

    /* ===== TOP BAR ===== */
    .topbar{
      position:sticky; top:0; z-index:50;
      background:rgba(246,247,251,.88);
      backdrop-filter: blur(10px);
      border-bottom:1px solid var(--line);
    }
    .topbarInner{
      max-width:1200px;margin:0 auto;
      padding:14px 16px;
      display:flex;gap:14px;align-items:center;justify-content:space-between;
    }
    
    .brand{display:flex;align-items:center;gap:10px}
    .logo{
  width:40px;
  height:40px;
  object-fit:contain;
  border-radius:10px;
}

    .brandTitle{display:flex;flex-direction:column;gap:2px}
    .brandTitle b{font-size:14px}
    .brandTitle span{font-size:12px;color:var(--muted)}

    .searchBox{
      flex:1;
      display:flex; align-items:center; gap:10px;
      max-width:520px;
      background:var(--card);
      border:1px solid var(--line);
      border-radius:999px;
      padding:10px 12px;
      box-shadow:0 6px 18px rgba(17,24,39,.06);
    }
    .searchBox input{
      border:none; outline:none;
      width:100%;
      font-size:14px;
      background:transparent;
    }
    .searchBtn{
      width:36px;height:36px;border-radius:999px;
      border:none; cursor:pointer;
      background:linear-gradient(135deg,var(--primary),var(--primary2));
      color:white; font-weight:900;
      display:grid;place-items:center;
    }

    .pill{
      display:flex;align-items:center;gap:8px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid var(--line);
      background:var(--card);
      box-shadow:0 6px 18px rgba(17,24,39,.06);
      font-size:13px;
      white-space:nowrap;
    }
    .pill b{color:var(--primary)}

    /* ===== HEADER ===== */
    .wrap{max-width:1200px;margin:0 auto;padding:22px 16px 110px}
    .header{
      padding:18px 0 10px;
      display:flex;align-items:flex-end;justify-content:space-between;gap:12px;
    }
    .header h1{margin:0;font-size:22px}
    .header p{margin:0;color:var(--muted);font-size:13px}

    /* ===== GRID ===== */
    .grid{
      display:grid;
      grid-template-columns: repeat(5, 1fr);
      gap:16px;
    }
    @media (max-width: 1150px){ .grid{grid-template-columns: repeat(4, 1fr);} }
    @media (max-width: 920px){ .grid{grid-template-columns: repeat(3, 1fr);} }
    @media (max-width: 680px){ .grid{grid-template-columns: repeat(2, 1fr);} }
    @media (max-width: 420px){ .grid{grid-template-columns: 1fr;} }
.pill-zalo{ cursor:pointer; }
.pill-zalo:hover{ background:#eef2ff; }

    /* ===== PRODUCT CARD ===== */
    .card{
      position:relative;
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--r);
      box-shadow:var(--shadow);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      min-height: 340px;
      transition: transform .12s ease;
    }
    .card:hover{transform: translateY(-2px)}

    .saleBadge{
      position:absolute; left:12px; top:12px;
      width:44px;height:44px;border-radius:999px;
      background:var(--sale);
      color:#fff;
      font-weight:900;
      font-size:12px;
      display:grid;place-items:center;
      box-shadow:0 10px 20px rgba(34,197,94,.25);
      border:3px solid #eafff0;
    }

    .imgWrap{
      background:#f3f4f6;
      height:160px;
      display:grid;
      place-items:center;
    }
    .imgWrap img{
      width:100%;
      height:160px;
      object-fit:cover;
      display:block;
    }

    .content{padding:12px 12px 10px; display:flex; flex-direction:column; gap:8px}
    .name{
      font-weight:900;
      font-size:14px;
      line-height:1.25;
      min-height: 36px;
    }

    .priceRow{display:flex;align-items:baseline;gap:10px;flex-wrap:wrap}
    .price{
      font-weight:900;
      color:var(--primary);
      font-size:15px;
    }
    .old{
      color:#9ca3af;
      text-decoration:line-through;
      font-size:12px;
    }
    .note{color:var(--muted);font-size:12px}

    .meta{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      margin-top:auto;
      padding:10px 12px 12px;
    }
    .sold{color:var(--muted);font-size:12px}
    .cartBtn{
      width:42px;height:42px;border-radius:999px;
      border:none; cursor:pointer;
      background:linear-gradient(135deg,var(--primary),var(--primary2));
      color:#fff;
      display:grid;place-items:center;
      box-shadow:0 10px 20px rgba(79,70,229,.18);
      font-size:18px;
    }
    .cartBtn:active{transform:translateY(1px)}

    /* ===== MODAL ===== */
    .modalBack{
      position:fixed; inset:0;
      background:rgba(17,24,39,.45);
      display:none;
      align-items:center; justify-content:center;
      padding:16px;
      z-index:80;
    }
    .modal{
      width:min(560px, 100%);
      background:#fff;
      border-radius:18px;
      border:1px solid var(--line);
      box-shadow:0 30px 70px rgba(0,0,0,.25);
      overflow:hidden;
    }
    .modalHead{
      padding:14px 16px;
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      border-bottom:1px solid var(--line);
    }
    .modalHead b{font-size:14px}
    .x{
      width:36px;height:36px;border-radius:999px;border:1px solid var(--line);
      background:#fff; cursor:pointer;
      font-size:16px;
    }
    .modalBody{padding:14px 16px; display:flex; flex-direction:column; gap:10px}
    .hint{color:var(--muted);font-size:13px;margin:0}
    .box{
      border:1px solid var(--line);
      border-radius:14px;
      padding:10px 12px;
      background:#f9fafb;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:12px;
      white-space:pre-wrap;
      word-break:break-word;
    }
    .row2{display:flex;gap:10px;flex-wrap:wrap}
    .btn{
      border:none;
      border-radius:12px;
      padding:11px 12px;
      font-weight:900;
      cursor:pointer;
      display:inline-flex; align-items:center; gap:8px;
      color:#fff;
    }
    .btn.zalo{background:#0ea5e9}
    .btn.copy{background:linear-gradient(135deg,var(--primary),var(--primary2))}
    .btn.light{
      background:#fff;color:var(--text);
      border:1px solid var(--line);
    }

    /* ===== FLOAT SUPPORT ===== */
    .support{
      position:fixed; right:18px; bottom:18px; z-index:60;
      display:flex;align-items:center;gap:10px;
      padding:12px 14px;
      border-radius:999px;
      background:linear-gradient(135deg,#3b82f6,#2563eb);
      color:#fff;
      box-shadow:0 18px 50px rgba(37,99,235,.25);
      cursor:pointer;
      user-select:none;
    }
    .support .dot{
      width:12px;height:12px;border-radius:999px;
      background:#fff;
      box-shadow:0 0 0 6px rgba(255,255,255,.18);
    }
    .support b{font-size:13px}
    .logo-link{
  display: inline-flex;
  align-items: center;
}
.logo-link{ text-decoration: none; }
.categoryBar{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin:10px 0 16px;
}

.catBtn{
  padding:10px 14px;
  border-radius:999px;
  border:1px solid var(--line);
  background:var(--card);
  cursor:pointer;
  font-size:13px;
  box-shadow:0 6px 18px rgba(17,24,39,.06);
}

.catBtn.active{
  color:var(--primary);
  border-color:rgba(109,40,217,.25);
}
.catCount{
  color:var(--muted);
  font-size:12px;
  margin-left:4px;
}
/* ===== Danh m·ª•c tr∆∞·ª£t ngang (mobile) ===== */
.categoryBar{
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;        /* Firefox */
}
.categoryBar::-webkit-scrollbar{ display:none; }  /* Chrome/Safari */

.categoryBar{
  flex-wrap: nowrap;            /* kh√¥ng xu·ªëng d√≤ng */
  gap:10px;
  padding-bottom: 2px;
}

.catBtn{
  white-space: nowrap;          /* ch·ªØ kh√¥ng xu·ªëng d√≤ng */
  flex: 0 0 auto;               /* m·ªói n√∫t gi·ªØ k√≠ch th∆∞·ªõc */
}
/* ===== Footer Li√™n h·ªá ===== */
.footer{
  margin-top: 26px;
  border-top:1px solid var(--line);
  background: #fff;
}
.footerInner{
  max-width:1200px;
  margin:0 auto;
  padding:18px 16px;
  display:grid;
  grid-template-columns: 1.2fr 1fr 1fr;
  gap:16px;
}
.footerTitle{
  font-weight:900;
  margin-bottom:10px;
}
.footerText{color:var(--muted);font-size:13px;line-height:1.55}
.footerList{margin:0;padding-left:18px;color:var(--muted);font-size:13px;line-height:1.7}
.footerBtns{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:10px}
.footerBtn{
  display:inline-flex;align-items:center;gap:8px;
  padding:10px 12px;border-radius:999px;
  border:1px solid var(--line);
  background:#fff;
  text-decoration:none;color:inherit;
  box-shadow:0 6px 18px rgba(17,24,39,.06);
  font-weight:800;font-size:13px;
}
.footerBtn.zalo{
  border:none;
  color:#fff;
  background:linear-gradient(135deg,var(--primary),var(--primary2));
}
.footerTags{display:flex;gap:10px;flex-wrap:wrap}
.footerTag{
  padding:8px 10px;border-radius:999px;
  border:1px solid var(--line);
  background:#f9fafb;
  font-size:12px;
  color:var(--text);
  cursor:pointer;
}
.footerTag:hover{background:#eef2ff}
.footerBottom{
  border-top:1px solid var(--line);
  padding:12px 16px;
  color:var(--muted);
  font-size:12px;
  text-align:center;
}

@media (max-width: 860px){
  .footerInner{grid-template-columns: 1fr;}
}
/* ===== Uy t√≠n & Cam k·∫øt ===== */
.trust{padding:18px 0 6px;}
.trustInner{
  max-width:1200px;
  margin:0 auto;
  padding:0 16px;
}
.trustHead h2{margin:0;font-size:18px}
.trustHead p{margin:6px 0 14px;color:var(--muted);font-size:13px}

.trustGrid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:12px;
}
.trustCard{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:16px;
  box-shadow:0 10px 26px rgba(17,24,39,.08);
  padding:14px;
  display:flex;
  gap:12px;
  align-items:flex-start;
}
.trustIcon{
  width:38px;height:38px;border-radius:12px;
  display:grid;place-items:center;
  background:#eef2ff;
  font-size:18px;
}
.trustCard b{font-size:14px}
.trustText{margin-top:4px;color:var(--muted);font-size:12px;line-height:1.45}

.trustSteps{
  margin-top:12px;
  background:var(--card);
  border:1px solid var(--line);
  border-radius:16px;
  padding:14px;
}
.trustSteps h3{margin:0 0 8px;font-size:14px}
.trustSteps ol{margin:0;padding-left:18px;color:var(--muted);font-size:13px;line-height:1.7}

@media (max-width: 900px){
  .trustGrid{grid-template-columns:repeat(2,1fr)}
}
@media (max-width: 480px){
  .trustGrid{grid-template-columns:1fr}
}
/* ===== Trang Li√™n h·ªá ===== */
.contactPage{padding: 10px 0 20px;}
.contactInner{max-width:1200px;margin:0 auto;padding:0 16px;}
.contactInner h1{margin:6px 0 6px;font-size:22px;}
.contactActions{display:flex;gap:10px;flex-wrap:wrap;margin:12px 0 14px;}

.contactCard{padding:16px;margin-top:12px;}
.contactLabel{display:block;margin:10px 0 6px;font-weight:800;font-size:13px;}
.contactInput{
  width:100%;
  padding:12px 12px;
  border-radius:12px;
  border:1px solid var(--line);
  outline:none;
}
.contactTextarea{
  width:100%;
  height:120px;
  padding:12px 12px;
  border-radius:12px;
  border:1px solid var(--line);
  outline:none;
  resize: vertical;
}
.contactBtns{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;}

  </style>
</head>

<body>
  <script>
    // ‚úÖ S·ª¨A 2 TH√îNG TIN N√ÄY
    const SHOP_NAME = "MMO MARKET";
    const ZALO_PHONE = "0396298999"; // thay b·∫±ng s·ªë Zalo c·ªßa b·∫°n (vd: 0987654321)

    // ‚úÖ Danh s√°ch s·∫£n ph·∫©m c·ªßa b·∫°n
    // sale: s·ªë √¢m ƒë·ªÉ hi·ªán "-xx%"
    const PRODUCTS = [
      { id:"veo3-ultra", name:"ü§ñ VEO3 Ultra (45000 credits)", price:"80.000ƒë / th√°ng", oldPrice:"100.000ƒë", sale:-20, sold:128,
        image:"veo3.png",
        category:"AI",
        note:"T·ª´ 5 t√†i kho·∫£n: 60.000ƒë/th√°ng" },

      { id:"chatgpt-plus-tkmk", name:"üí° ChatGPT Plus (TK|MK)", price:"88.000ƒë / th√°ng", oldPrice:"120.000ƒë", sale:-27, sold:310,
        image:"chat gpt-plus.png",
        category:"AI",
        note:"H·ªó tr·ª£ nhanh ch√≥ng 24h" },

      { id:"chatgpt-plus-chinhchu", name:"üí° Chat GPT Plus (N√¢ng ch√≠nh ch·ªß)", price:"130.000ƒë / th√°ng", oldPrice:"160.000ƒë", sale:-18, sold:210,
        image:"chat gpt-plus.png",
        category:"AI",
        note:"N√¢ng ch√≠nh ch·ªß ‚Ä¢ ·ªïn ƒë·ªãnh" },

      { id:"chatgpt-go", name:"üí° Chat GPT GO", price:"100.000ƒë / 12 th√°ng", oldPrice:"150.000ƒë", sale:-33, sold:95,
        image:"chatgptgo.png",
        category:"AI",
        note:"B·∫£o h√†nh 1 th√°ng" },

      { id:"chatgpt-business", name:"üíº ChatGPT Business (Add 5 slot)", price:"200.000ƒë", oldPrice:"260.000ƒë", sale:-23, sold:70,
        image:"chatgptbusi.png",
        category:"AI",
        note:"Add ƒë∆∞·ª£c 5 slot" },

      { id:"gemini-pro-2tb", name:"üî• Gemini Pro 2TB (mail ch√≠nh ch·ªß)", price:"150.000ƒë / 1 nƒÉm", oldPrice:"220.000ƒë", sale:-32, sold:160,
        image:"gemini.png",
        category:"AI",
        note:"Mail ch√≠nh ch·ªß ‚Ä¢ d√πng 1 nƒÉm" },

      { id:"capcut-pro", name:"üé¨ CapCut Pro (2-3 thi·∫øt b·ªã)", price:"50.000ƒë / 1 th√°ng", oldPrice:"70.000ƒë", sale:-28, sold:420,
        image:"capcut.png",category:"Video",
        note:"350.000ƒë / 6 th√°ng" },

      { id:"vidiq", name:"üìà VidIQ Boost (T·ªëi ∆∞u YouTube)", price:"149.000ƒë / th√°ng", oldPrice:"199.000ƒë", sale:-25, sold:88,
        image:"vidiq.png",category:"YouTube",
        note:"T·ªëi ∆∞u k√™nh ‚Ä¢ h·ªó tr·ª£ SEO" },

      { id:"canva-pro", name:"üé® Canva Pro (Thi·∫øt k·∫ø)", price:"50.000ƒë / 1 nƒÉm", oldPrice:"90.000ƒë", sale:-44, sold:530,
        image:"canva.png",category:"Thi·∫øt k·∫ø",
        note:"90k/2 nƒÉm ‚Ä¢ 139k/3 nƒÉm" },
    ];
  </script>

  <!-- TOP BAR -->
  <div class="topbar">
    <div class="topbarInner">
      <div class="brand">
<a href="index.html" class="logo-link">
  <img src="logo.png" alt="Logo shop" class="logo">
</a>
        <div class="brandTitle">
          <b id="brandName">MMO MARKET</b>
          <span>C√¥ng c·ª• AI ‚Ä¢ T√†i nguy√™n MMO</span>
        </div>
      </div>

      <div class="searchBox">
        <input id="search" placeholder="T√¨m s·∫£n ph·∫©m‚Ä¶ (VD: Canva, Gemini, Plus)" />
        <button class="searchBtn" id="searchBtn">‚åï</button>
      </div>

      <div class="pill">üî• ƒê√£ b√°n: <b id="soldTotal">0</b></div>
    </div>
  </div>

  <!-- CONTENT -->
  <div class="wrap">
    <div class="header">
      <div>
        <h1>S·∫£n ph·∫©m n·ªïi b·∫≠t</h1>
        <p>Danh s√°ch s·∫£n ph·∫©m (b·∫•m gi·ªè h√†ng ƒë·ªÉ mua nhanh)</p>
      </div>
        <a
  class="pill pill-zalo"
  id="zaloLink"
  href="https://zalo.me/0396298999"
  target="_blank"
>
  üí¨ Zalo
</a>

    </div>
<section class="contactPage">
  <div class="contactInner">
    <h1>Li√™n h·ªá</h1>
    <p class="hint">Nh·∫Øn Zalo ƒë·ªÉ ch·ªët ƒë∆°n nhanh. B·∫°n c√≥ th·ªÉ copy n·ªôi dung m·∫´u b√™n d∆∞·ªõi.</p>

    <div class="contactActions">
      <a class="footerBtn zalo" id="contactZaloBtn" href="https://zalo.me/0396298999" target="_blank">üí¨ Chat Zalo</a>
      <a class="footerBtn" href="tel:0396298999">üìû G·ªçi ƒëi·ªán</a>
    </div>

    <div class="card contactCard">
      <h3>N·ªôi dung nh·∫Øn m·∫´u</h3>
      <p class="hint">Nh·∫≠p g√≥i b·∫°n mu·ªën mua ‚Üí b·∫•m Copy ‚Üí m·ªü Zalo v√† d√°n.</p>

      <label class="contactLabel">B·∫°n mu·ªën mua g√≥i n√†o?</label>
      <input id="contactPlan" class="contactInput" placeholder="VD: ChatGPT Plus 88k/th√°ng" />

      <label class="contactLabel">N·ªôi dung</label>
      <textarea id="contactMsg" class="contactTextarea" placeholder="N·ªôi dung s·∫Ω hi·ªán ·ªü ƒë√¢y..."></textarea>

      <div class="contactBtns">
        <button class="btn copy" id="genMsg">üìù T·∫°o n·ªôi dung</button>
        <button class="btn copy" id="copyMsg">üìã Copy</button>
        <a class="btn zalo" id="openZalo" href="https://zalo.me/0396298999" target="_blank">üí¨ M·ªü Zalo</a>
      </div>
    </div>

    <div class="card contactCard">
      <h3>Gi·ªù h·ªó tr·ª£</h3>
      <p class="hint">08:00 ‚Äì 23:00 (c√≥ th·ªÉ thay ƒë·ªïi theo ng√†y). N·∫øu b·∫≠n, m√¨nh s·∫Ω ph·∫£n h·ªìi s·ªõm nh·∫•t.</p>
      <ul class="footerList">
        <li>Zalo: <b id="contactZaloText">0396298999</b></li>
        <li>Cam k·∫øt: t∆∞ v·∫•n r√µ r√†ng tr∆∞·ªõc khi thanh to√°n</li>
        <li>B·∫£o h√†nh theo t·ª´ng g√≥i</li>
      </ul>
    </div>
  </div>
</section>

  </div>

  <!-- MODAL -->
  <div id="modalBack" class="modalBack">
    <div class="modal">
      <div class="modalHead">
        <b>Mua nhanh</b>
        <button class="x" id="closeModal">‚úï</button>
      </div>
      <div class="modalBody">
        <p class="hint">B·∫•m ‚ÄúM·ªü Zalo‚Äù ƒë·ªÉ nh·∫Øn. N·∫øu m√°y b·∫°n kh√¥ng t·ª± ƒëi·ªÅn n·ªôi dung, b·∫•m ‚ÄúCopy n·ªôi dung‚Äù r·ªìi d√°n v√†o Zalo.</p>
        <div class="box" id="msgBox">...</div>
        <div class="row2">
          <button class="btn zalo" id="openZalo">M·ªü Zalo</button>
          <button class="btn copy" id="copyMsg">Copy n·ªôi dung</button>
          <button class="btn light" id="closeModal2">ƒê√≥ng</button>
        </div>
      </div>
    </div>
  </div>

  <!-- FLOAT SUPPORT -->
  <div class="support" id="supportBtn" title="Nh·∫•n ƒë·ªÉ t∆∞ v·∫•n Zalo">
    <span class="dot"></span>
    <b>H·ªñ TR·ª¢ TR·ª∞C TUY·∫æN</b>
  </div>

  <script>
    // ===== Render s·∫£n ph·∫©m ra grid =====
    const grid = document.getElementById("grid");
    const soldTotalEl = document.getElementById("soldTotal");
    const brandNameEl = document.getElementById("brandName");
    brandNameEl.textContent = SHOP_NAME;
    const zaloTextEl = document.getElementById("zaloText");
    const zaloLinkEl = document.getElementById("zaloLink");
    if (zaloTextEl) zaloTextEl.textContent = ZALO_PHONE;
    if (zaloLinkEl) zaloLinkEl.href = `https://zalo.me/${ZALO_PHONE}`;


    function render(list){
      grid.innerHTML = "";
      let totalSold = 0;

      list.forEach(p => {
        totalSold += (p.sold || 0);

        const card = document.createElement("div");
        card.className = "card";

        const saleText = (typeof p.sale === "number" && p.sale < 0) ? `${p.sale}%` : "";
        const saleBadge = saleText ? `<div class="saleBadge">${saleText}</div>` : "";

        card.innerHTML = `
          ${saleBadge}
          <div class="imgWrap">
            <img src="${p.image}" alt="${escapeHtml(p.name)}" loading="lazy"/>
          </div>

          <div class="content">
            <div class="name">${escapeHtml(p.name)}</div>
            <div class="priceRow">
              <div class="price">${escapeHtml(p.price)}</div>
              ${p.oldPrice ? `<div class="old">${escapeHtml(p.oldPrice)}</div>` : ``}
            </div>
            ${p.note ? `<div class="note">${escapeHtml(p.note)}</div>` : ``}
          </div>

          <div class="meta">
            <div class="sold">${p.sold || 0} ƒë√£ b√°n</div>
            <button class="cartBtn" data-id="${p.id}" title="Mua nhanh">üõí</button>
          </div>
        `;

        grid.appendChild(card);
      });

      soldTotalEl.textContent = totalSold.toLocaleString("vi-VN");
      const trustSoldEl = document.getElementById("trustSold");
if(trustSoldEl) trustSoldEl.textContent = totalSold.toLocaleString("vi-VN");

    }

    function escapeHtml(str){
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }



    // ===== Modal mua nhanh + Zalo =====
    const modalBack = document.getElementById("modalBack");
    const msgBox = document.getElementById("msgBox");
    const openZaloBtn = document.getElementById("openZalo");
    const copyMsgBtn = document.getElementById("copyMsg");
    const closeModalBtn = document.getElementById("closeModal");
    const closeModalBtn2 = document.getElementById("closeModal2");

    let currentMsg = "";

    function openModalFor(product){
      // N·ªôi dung tin nh·∫Øn g·ª≠i Zalo
      currentMsg =
`Xin ch√†o ${SHOP_NAME}!
M√¨nh mu·ªën mua g√≥i: ${product.name}
Gi√°: ${product.price}${product.note ? `\nGhi ch√∫: ${product.note}` : ""}

M√¨nh c·∫ßn t∆∞ v·∫•n v√† ch·ªët ƒë∆°n gi√∫p m√¨nh nh√©.`;

      msgBox.textContent = currentMsg;
      modalBack.style.display = "flex";

      // Link m·ªü Zalo (m·ªü chat)
      // L∆∞u √Ω: Zalo kh√¥ng ƒë·∫£m b·∫£o auto-fill n·ªôi dung tr√™n m·ªçi thi·∫øt b·ªã,
      // n√™n m√¨nh cho n√∫t Copy ƒë·ªÉ d√°n nhanh.
      openZaloBtn.onclick = () => {
        window.open(`https://zalo.me/${ZALO_PHONE}`, "_blank");
      };

      copyMsgBtn.onclick = async () => {
        try{
          await navigator.clipboard.writeText(currentMsg);
          copyMsgBtn.textContent = "ƒê√£ copy ‚úÖ";
          setTimeout(()=> copyMsgBtn.textContent = "Copy n·ªôi dung", 1200);
        }catch(e){
          alert("Kh√¥ng copy ƒë∆∞·ª£c. B·∫°n h√£y ch·ªçn n·ªôi dung v√† copy th·ªß c√¥ng.");
        }
      };
    }

    function closeModal(){
      modalBack.style.display = "none";
    }
    closeModalBtn.onclick = closeModal;
    closeModalBtn2.onclick = closeModal;
    modalBack.addEventListener("click", (e)=>{
      if(e.target === modalBack) closeModal();
    });

    // click n√∫t gi·ªè h√†ng
const genMsgBtn = document.getElementById("genMsg");
if(genMsgBtn) genMsgBtn.addEventListener("click", () => {
  // ...
});

    const btn = e.target.closest(".cartBtn");
      if(!btn) return;
      const id = btn.getAttribute("data-id");
      const product = PRODUCTS.find(x => x.id === id);
      if(product) openModalFor(product);
    });

    // ===== Search =====
    const searchInput = document.getElementById("search");
    const searchBtn = document.getElementById("searchBtn");

    function doSearch(){
      const q = searchInput.value.trim().toLowerCase();
      if(!q) return render(PRODUCTS);
      const filtered = PRODUCTS.filter(p =>
        (p.name || "").toLowerCase().includes(q) ||
        (p.note || "").toLowerCase().includes(q) ||
        (p.price || "").toLowerCase().includes(q)
      );
      render(filtered);
    }
    searchBtn.onclick = doSearch;
    searchInput.addEventListener("keydown", (e)=>{
      if(e.key === "Enter") doSearch();
    });

    // ===== Floating ‚ÄúH·ªó tr·ª£ tr·ª±c tuy·∫øn‚Äù =====
    document.getElementById("supportBtn").onclick = () => {
      // m·ªü modal t∆∞ v·∫•n chung
      openModalFor({
        name:"T∆∞ v·∫•n ch·ªçn g√≥i ph√π h·ª£p",
        price:"(vui l√≤ng b√°o nhu c·∫ßu)",
        note:"M√¨nh mu·ªën ƒë∆∞·ª£c t∆∞ v·∫•n g√≥i ph√π h·ª£p v·ªõi nhu c·∫ßu."
      });
    };
   // ===== DANH M·ª§C TAB (B·∫¢N AN TO√ÄN) =====
const categoryBar = document.getElementById("categoryBar");
let currentCategory = "T·∫•t c·∫£";

function saveCategory(){
  localStorage.setItem("activeCategory", currentCategory);
}
function loadCategory(){
  const saved = localStorage.getItem("activeCategory");
  if(saved) currentCategory = saved;
}
function setCatToUrl(cat){
  const url = new URL(window.location.href);
  if(!cat || cat === "T·∫•t c·∫£") url.searchParams.delete("cat");
  else url.searchParams.set("cat", cat);
  history.replaceState({}, "", url.toString());
}

function loadCatFromUrl(){
  const url = new URL(window.location.href);
  return url.searchParams.get("cat"); // c√≥ th·ªÉ null
}

function getCategories(){
  const set = new Set((PRODUCTS || []).map(p => p.category).filter(Boolean));
  return ["T·∫•t c·∫£", ...Array.from(set)];
}

function renderCategories(){
  if(!categoryBar) return;              // ‚úÖ kh√¥ng c√≥ thanh categoryBar th√¨ kh·ªèi ch·∫°y
  categoryBar.innerHTML = "";

  getCategories().forEach(cat => {
    const btn = document.createElement("button");
    btn.className = "catBtn" + (cat === currentCategory ? " active" : "");

    const count = (cat === "T·∫•t c·∫£")
      ? (PRODUCTS || []).length
      : (PRODUCTS || []).filter(p => p.category === cat).length;

    btn.innerHTML = `${cat} <span class="catCount">(${count})</span>`;

   btn.addEventListener("click", () => {
  currentCategory = cat;
  saveCategory();
  setCatToUrl(cat);     // ‚úÖ th√™m d√≤ng n√†y
  renderCategories();
  applyFilters();
});


    categoryBar.appendChild(btn);
  });
}

function applyFilters(){
  let list = (currentCategory === "T·∫•t c·∫£")
    ? (PRODUCTS || [])
    : (PRODUCTS || []).filter(p => p.category === currentCategory);

  // n·∫øu c√≥ searchInput th√¨ l·ªçc ti·∫øp theo t·ª´ kh√≥a
  const q = (typeof searchInput !== "undefined" ? (searchInput.value || "") : "")
    .trim().toLowerCase();

  if(q){
    list = list.filter(p =>
      (p.name||"").toLowerCase().includes(q) ||
      (p.note||"").toLowerCase().includes(q) ||
      (p.price||"").toLowerCase().includes(q)
    );
  }

  render(list);
}

// g·∫Øn search (n·∫øu c√≥)
if(typeof searchInput !== "undefined"){
  searchInput.addEventListener("input", applyFilters);
}

// kh·ªüi t·∫°o
// ∆Øu ti√™n URL tr∆∞·ªõc, n·∫øu kh√¥ng c√≥ th√¨ d√πng localStorage
const catFromUrl = loadCatFromUrl();
if(catFromUrl) currentCategory = catFromUrl;
else loadCategory();

renderCategories();
applyFilters();
const yearEl = document.getElementById("year");
if (yearEl) yearEl.textContent = new Date().getFullYear();

// ƒê·ªìng b·ªô Zalo footer theo bi·∫øn ZALO_PHONE (n·∫øu c√≥)
try{
  if(typeof ZALO_PHONE !== "undefined"){
    const footerZalo = document.getElementById("footerZalo");
    const footerZaloText = document.getElementById("footerZaloText");
    if(footerZalo) footerZalo.href = `https://zalo.me/${ZALO_PHONE}`;
    if(footerZaloText) footerZaloText.textContent = ZALO_PHONE;
  }
}catch(e){}

// ƒê·ªï danh m·ª•c xu·ªëng footer
const footerCats = document.getElementById("footerCats");
if(footerCats){
  const cats = getCategories().filter(c => c !== "T·∫•t c·∫£"); // b·ªè T·∫•t c·∫£ cho g·ªçn
  footerCats.innerHTML = cats.map(c => `<button class="footerTag" data-cat="${c}">${c}</button>`).join("");

  footerCats.addEventListener("click", (e)=>{
    const btn = e.target.closest("[data-cat]");
    if(!btn) return;
    const cat = btn.getAttribute("data-cat");
    currentCategory = cat;
    saveCategory();
    setCatToUrl(cat);
    renderCategories();
    applyFilters();

    // cu·ªôn l√™n khu s·∫£n ph·∫©m cho ti·ªán
    document.getElementById("categoryBar")?.scrollIntoView({behavior:"smooth", block:"start"});
  });
}
// ===== Trang li√™n h·ªá: t·∫°o & copy n·ªôi dung =====
const contactPlan = document.getElementById("contactPlan");
const contactMsg  = document.getElementById("contactMsg");
const genMsgBtn   = document.getElementById("genMsg");
const copyBtn     = document.getElementById("copyMsg");

const contactZaloBtn = document.getElementById("contactZaloBtn");
const openZalo = document.getElementById("openZalo");
const contactZaloText = document.getElementById("contactZaloText");

// ƒë·ªìng b·ªô s·ªë Zalo theo bi·∫øn ZALO_PHONE n·∫øu c√≥
try{
  if(typeof ZALO_PHONE !== "undefined"){
    const url = `https://zalo.me/${ZALO_PHONE}`;
    if(contactZaloBtn) contactZaloBtn.href = url;
    if(openZalo) openZalo.href = url;
    if(contactZaloText) contactZaloText.textContent = ZALO_PHONE;
  }
}catch(e){}

function buildMessage(){
  const plan = (contactPlan?.value || "").trim() || "M√¨nh mu·ªën ƒë∆∞·ª£c t∆∞ v·∫•n g√≥i ph√π h·ª£p";
  return `Xin ch√†o MMO MARKET!\nM√¨nh mu·ªën mua g√≥i: ${plan}\nM√¨nh c·∫ßn t∆∞ v·∫•n v√† ch·ªët ƒë∆°n gi√∫p m√¨nh nh√©.`;
}

if(genMsgBtn){
  genMsgBtn.onclick = () => {
    if(contactMsg) contactMsg.value = buildMessage();
  };
}

if(copyBtn){
  copyBtn.onclick = async () => {
    const text = (contactMsg?.value || "").trim();
    if(!text) return alert("B·∫°n b·∫•m 'T·∫°o n·ªôi dung' tr∆∞·ªõc ho·∫∑c t·ª± nh·∫≠p n·ªôi dung.");
    try{
      await navigator.clipboard.writeText(text);
      alert("ƒê√£ copy! Gi·ªù b·∫°n b·∫•m 'M·ªü Zalo' v√† d√°n n·ªôi dung nh√©.");
    }catch(e){
      alert("Kh√¥ng copy t·ª± ƒë·ªông ƒë∆∞·ª£c. B·∫°n h√£y b√¥i ƒëen n·ªôi dung v√† copy th·ªß c√¥ng.");
    }
  };
}

</script>
<section class="trust">
  <div class="trustInner">
    <div class="trustHead">
      <h2>Uy t√≠n & Cam k·∫øt</h2>
      <p>Mua nhanh ‚Äì r√µ r√†ng ‚Äì h·ªó tr·ª£ qua Zalo</p>
    </div>

    <div class="trustGrid">
      <div class="trustCard">
        <div class="trustIcon">‚ö°</div>
        <div>
          <b>Giao nhanh</b>
          <div class="trustText">Ch·ªët ƒë∆°n xong l√† x·ª≠ l√Ω ngay (tu·ª≥ g√≥i).</div>
        </div>
      </div>

      <div class="trustCard">
        <div class="trustIcon">üõ°Ô∏è</div>
        <div>
          <b>B·∫£o h√†nh</b>
          <div class="trustText">H·ªó tr·ª£ theo ch√≠nh s√°ch t·ª´ng g√≥i b·∫°n ch·ªçn.</div>
        </div>
      </div>

      <div class="trustCard">
        <div class="trustIcon">üí¨</div>
        <div>
          <b>H·ªó tr·ª£ Zalo</b>
          <div class="trustText">T∆∞ v·∫•n ‚Äì x·ª≠ l√Ω l·ªói ‚Äì h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng.</div>
        </div>
      </div>

      <div class="trustCard">
        <div class="trustIcon">üî•</div>
        <div>
          <b>ƒê√£ b√°n</b>
          <div class="trustText">T·ªïng ƒë∆°n: <span id="trustSold">0</span> (c·∫≠p nh·∫≠t t·ª± ƒë·ªông).</div>
        </div>
      </div>
    </div>

    <div class="trustSteps">
      <h3>C√°ch mua</h3>
      <ol>
        <li>Ch·ªçn s·∫£n ph·∫©m</li>
        <li>B·∫•m Zalo ƒë·ªÉ nh·∫Øn ‚Äúm√¨nh mu·ªën mua g√≥i‚Ä¶‚Äù</li>
        <li>Thanh to√°n</li>
        <li>Nh·∫≠n t√†i kho·∫£n / n√¢ng c·∫•p</li>
      </ol>
    </div>
  </div>
</section>
<footer class="footer">
  <div class="footerInner">
    <div class="footerCol">
      <div class="footerTitle">Li√™n h·ªá nhanh</div>

      <div class="footerBtns">
        <a class="footerBtn zalo" id="footerZalo" href="https://zalo.me/0396298999" target="_blank">
          üí¨ Chat Zalo
        </a>
        <a class="footerBtn" href="tel:0396298999">üìû G·ªçi ƒëi·ªán</a>
      </div>

      <div class="footerText">
        Gi·ªù h·ªó tr·ª£: <b>08:00 ‚Äì 23:00</b><br/>
        Zalo: <b id="footerZaloText">0396298999</b>
      </div>
    </div>

    <div class="footerCol">
      <div class="footerTitle">Cam k·∫øt</div>
      <ul class="footerList">
        <li>Nh·∫≠n ngay sau khi ch·ªët ƒë∆°n</li>
        <li>H·ªó tr·ª£ n·∫øu g·∫∑p l·ªói theo t·ª´ng g√≥i</li>
        <li>Minh b·∫°ch gi√° ‚Äì t∆∞ v·∫•n tr∆∞·ªõc khi thanh to√°n</li>
      </ul>
    </div>

    <div class="footerCol">
      <div class="footerTags" id="footerCats">
        <!-- JS s·∫Ω t·ª± ƒë·ªï danh m·ª•c -->
      </div>
    </div>
  </div>

  <div class="footerBottom">
    ¬© <span id="year"></span> MMO MARKET ‚Ä¢ H·ªó tr·ª£ Zalo
  </div>
</footer>
</body>
</html>
